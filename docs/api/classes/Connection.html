<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Connection - Spredfast API Wrapper</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="../assets/favicon.ico">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="../assets/css/logo.png" title="Spredfast API Wrapper" width="117" height="52"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.1.0</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/Connection.html">Connection</a></li>
                                <li><a href="../classes/ContentError.html">ContentError</a></li>
                                <li><a href="../classes/Message.html">Message</a></li>
                                <li><a href="../classes/OAuth.html">OAuth</a></li>
                                <li><a href="../classes/OptionError.html">OptionError</a></li>
                                <li><a href="../classes/Util.html">Util</a></li>
                            </ul>
                
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/Spredfast.html">Spredfast</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1>Connection Class</h1>
<div class="box meta">


        <div class="foundat">
            Defined in: <a href="../files/lib_api_connection.js.html#l7"><code>lib&#x2F;api&#x2F;connection.js:7</code></a>
        </div>

            Module: <a href="../modules/Spredfast.html">Spredfast</a>

</div>


<div class="box intro">
    <p>A class containing methods that abstract out common API uses.</p>

</div>

    <div class="constructor">
        <h2>Constructor</h2>
<div id="method_Connection" class="method item">
    <h3 class="name"><code>Connection</code></h3>

        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
                <li class="arg">
                        <code>oauth</code>
                </li>
            </ul><span class="paren">)</span>
        </div>








    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_api_connection.js.html#l7"><code>lib&#x2F;api&#x2F;connection.js:7</code></a>
        </p>



    </div>

    <div class="description">
        
    </div>

        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
                <li class="param">
                        <code class="param-name">oauth</code>
                        <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>


                    <div class="param-description">
                        <p>A completed OAuth object, i.e. one with a defined
accessToken property</p>

                    </div>

                        <ul class="params-list">
                            <li class="param">
                                    <code class="param-name">accessToken</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>

                                <div class="param-description">
                                    <p>The OAuth accessToken unique to the currently
authenticated user.</p>

                                </div>

                            </li>
                        </ul>
                </li>
            </ul>
        </div>



        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code prettyprint"><code>// Creating a Connection from an OAuth Server authentication flow (using ExpressJS)
var express = require('express');

var oauth = spredfast.OAuth.Server({
    user: &lt;user&gt;,
    clientId: &lt;clientID&gt;,
    clientSecret: &lt;clientSecret&gt;,
    redirectUri: 'http://localhost:3000/callback'
});

var app = express();
app.get('/', function(req, res) {
     res.redirect(oauth.authorize());
});
app.get('/callback', function(req, res) {
    oauth.getAccessToken(req.query.code, function(oauth) {
        var conn = new spredfast.Connection(oauth);
        doStuff(conn);
    });
    res.send();
});
app.listen(3000);</code></pre>
<pre class="code prettyprint"><code>// Creating a Connection from an existing access token
var oauth = {
    accessToken: &lt;accessToken&gt;
};
var conn = new spredfast.Connection(oauth);</code></pre>

            </div>
        </div>
</div>
    </div>

<div id="classdocs" class="tabview">
    <ul class="api-class-tabs">
        <li class="api-class-tab index"><a href="#index">Index</a></li>

            <li class="api-class-tab methods"><a href="#methods">Methods</a></li>
            <li class="api-class-tab properties"><a href="#properties">Properties</a></li>
    </ul>

    <div>
        <div id="index" class="api-class-tabpanel index">
            <h2 class="off-left">Item Index</h2>

                <div class="index-section methods">
                    <h3>Methods</h3>

                    <ul class="index-list methods">
                            <li class="index-item method">
                                <a href="#method_getAccounts">getAccounts</a>

                            </li>
                            <li class="index-item method">
                                <a href="#method_getCompanies">getCompanies</a>

                            </li>
                            <li class="index-item method">
                                <a href="#method_getInitiatives">getInitiatives</a>

                            </li>
                            <li class="index-item method">
                                <a href="#method_publish">publish</a>

                            </li>
                            <li class="index-item method">
                                <a href="#method_request">request</a>

                            </li>
                            <li class="index-item method">
                                <a href="#method_setAccount">setAccount</a>

                            </li>
                            <li class="index-item method">
                                <a href="#method_setCompany">setCompany</a>

                            </li>
                            <li class="index-item method">
                                <a href="#method_setInitiative">setInitiative</a>

                            </li>
                    </ul>
                </div>

                <div class="index-section properties">
                    <h3>Properties</h3>

                    <ul class="index-list properties">
                            <li class="index-item property">
                                <a href="#property_user">user</a>

                            </li>
                            <li class="index-item property">
                                <a href="#property_user.accounts">user.accounts</a>

                            </li>
                            <li class="index-item property">
                                <a href="#property_user.activeAccount">user.activeAccount</a>

                            </li>
                            <li class="index-item property">
                                <a href="#property_user.activeCompany">user.activeCompany</a>

                            </li>
                            <li class="index-item property">
                                <a href="#property_user.activeInitiative">user.activeInitiative</a>

                            </li>
                            <li class="index-item property">
                                <a href="#property_user.companies">user.companies</a>

                            </li>
                            <li class="index-item property">
                                <a href="#property_user.email">user.email</a>

                            </li>
                            <li class="index-item property">
                                <a href="#property_user.initiatives">user.initiatives</a>

                            </li>
                    </ul>
                </div>


        </div>

            <div id="methods" class="api-class-tabpanel">
                <h2 class="off-left">Methods</h2>

<div id="method_getAccounts" class="method item">
    <h3 class="name"><code>getAccounts</code></h3>

        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
                <li class="arg">
                        <code class="optional">[options]</code>
                </li>
                <li class="arg">
                        <code class="optional">[callback]</code>
                </li>
            </ul><span class="paren">)</span>
        </div>








    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_api_connection.js.html#l333"><code>lib&#x2F;api&#x2F;connection.js:333</code></a>
        </p>



    </div>

    <div class="description">
        <p>Method to populate the
<a href="../classes/Connection.html#property_user.accounts">user.accounts</a>
list with accounts available to the
current user. If at least 1 account is returned, this method will set the
user's activeAccount property to the first account in the returned list.</p>
<p>The API server will return paginated results. Pagination can be configured
with the options parameter of this method.</p>
<p>If no activeCompany or activeInitiative is set for the current user,
calling this method will result in the user's accounts list being set to
an empty array, which will get passed to the callback function if one is
provided. The user's activeAccount will be set to null.</p>

    </div>

        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
                <li class="param">
                        <code class="param-name optional">[options]</code>
                        <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
                        <span class="flag optional" title="This parameter is optional.">optional</span>


                    <div class="param-description">
                        <p>Additional options for the HTTP request.</p>

                    </div>

                        <ul class="params-list">
                            <li class="param">
                                    <code class="param-name optional">[pageSize]</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number" class="crosslink external" target="_blank">Number</a></span>
                                    <span class="flag optional" title="This parameter is optional.">optional</span>

                                <div class="param-description">
                                    <p>The number of accounts the server will
return per page. Must be between 0 and 100 (exclusive), defaults to 20.</p>

                                </div>

                            </li>
                            <li class="param">
                                    <code class="param-name optional">[pageNumber]</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number" class="crosslink external" target="_blank">Number</a></span>
                                    <span class="flag optional" title="This parameter is optional.">optional</span>

                                <div class="param-description">
                                    <p>Zero based index of the page of values
to return. Must be &gt;= 0, defaults to 0.</p>

                                </div>

                            </li>
                            <li class="param">
                                    <code class="param-name optional">[services]</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                    <span class="flag optional" title="This parameter is optional.">optional</span>

                                <div class="param-description">
                                    <p>Multi-valued list of possible Social
Network Service enums (i.e. one of 'FACEBOOK', 'TWITTER', or 'LINKEDIN').</p>

                                </div>

                            </li>
                        </ul>
                </li>
                <li class="param">
                        <code class="param-name optional">[callback]</code>
                        <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                        <span class="flag optional" title="This parameter is optional.">optional</span>


                    <div class="param-description">
                        <p>The callback function to be called with any
errors (or null if none exist), and an array of account objects.</p>

                    </div>

                </li>
            </ul>
        </div>



        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code prettyprint"><code>var conn = new spredfast.Connection(oauth);

// Will set a default user.activeCompany if possible
conn.getCompanies(function(err, companies) {
    if (err) return console.error(err);

    // Will set a default user.activeInitiative if possible
    conn.getInitiatives(function(err, initiatives) {
        if (err) return console.error(err);

        conn.getAccounts(function(err, accounts) {
            if (err) return console.error(err);

            accounts.forEach(function(account, i, arr) {
                console.log(Object.keys(account)); // [sfEntityType, id, name, service, accountType]
            });
        });
    });
});</code></pre>

            </div>
        </div>
</div>
<div id="method_getCompanies" class="method item">
    <h3 class="name"><code>getCompanies</code></h3>

        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
                <li class="arg">
                        <code class="optional">[callback]</code>
                </li>
            </ul><span class="paren">)</span>
        </div>








    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_api_connection.js.html#l203"><code>lib&#x2F;api&#x2F;connection.js:203</code></a>
        </p>



    </div>

    <div class="description">
        <p>Method to populate the
<a href="../classes/Connection.html#property_user.companies">user.companies</a>
list with companies available to the
current user. If at least 1 company is returned, this method will set the
user's activeCompany property to the first company in the returned list.
Additionally sets the user's email address.</p>

    </div>

        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
                <li class="param">
                        <code class="param-name optional">[callback]</code>
                        <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                        <span class="flag optional" title="This parameter is optional.">optional</span>


                    <div class="param-description">
                        <p>The callback function to be called with any
errors (or null if none exist), and an array of company objects.</p>

                    </div>

                </li>
            </ul>
        </div>



        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code prettyprint"><code>var conn = new spredfast.Connection(oauth);

conn.getCompanies(function(err, companies) {
    if (err) return console.error(err);

    companies.forEach(function(company, i, arr) {
        console.log(Object.keys(company)); // [sfEntityType, id, name, environment]
    });
});</code></pre>

            </div>
        </div>
</div>
<div id="method_getInitiatives" class="method item">
    <h3 class="name"><code>getInitiatives</code></h3>

        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
                <li class="arg">
                        <code class="optional">[options]</code>
                </li>
                <li class="arg">
                        <code class="optional">[callback]</code>
                </li>
            </ul><span class="paren">)</span>
        </div>








    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_api_connection.js.html#l248"><code>lib&#x2F;api&#x2F;connection.js:248</code></a>
        </p>



    </div>

    <div class="description">
        <p>Method to populate the
<a href="../classes/Connection.html#property_user.initiatives">user.initiatives</a>
list with initiatives available to the
current user. If at least 1 initiative is returned, this method will set the
user's activeInitiative property to the first initiative in the returned list.</p>
<p>The API server will return paginated results. Pagination can be configured
with the options parameter of this method.</p>
<p>If no activeCompany is set for the current user, calling this method
will result in the user's initiatives list being set to an empty array,
which will get passed to the callback function if one is provided. The user's
activeInitiative will be set to null.</p>

    </div>

        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
                <li class="param">
                        <code class="param-name optional">[options]</code>
                        <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
                        <span class="flag optional" title="This parameter is optional.">optional</span>


                    <div class="param-description">
                        <p>Additional options for the HTTP request.</p>

                    </div>

                        <ul class="params-list">
                            <li class="param">
                                    <code class="param-name optional">[pageSize]</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number" class="crosslink external" target="_blank">Number</a></span>
                                    <span class="flag optional" title="This parameter is optional.">optional</span>

                                <div class="param-description">
                                    <p>The number of initiatives the server will
return per page. Must be between 0 and 100 (exclusive), defaults to 20.</p>

                                </div>

                            </li>
                            <li class="param">
                                    <code class="param-name optional">[pageNumber]</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number" class="crosslink external" target="_blank">Number</a></span>
                                    <span class="flag optional" title="This parameter is optional.">optional</span>

                                <div class="param-description">
                                    <p>Zero based index of the page of values
to return. Must be &gt;= 0, defaults to 0.</p>

                                </div>

                            </li>
                            <li class="param">
                                    <code class="param-name optional">[nameFilter]</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                    <span class="flag optional" title="This parameter is optional.">optional</span>

                                <div class="param-description">
                                    <p>Case-insensitive search within the
initiative name for the provided string. If not provided, all initiatives
are returned.</p>

                                </div>

                            </li>
                        </ul>
                </li>
                <li class="param">
                        <code class="param-name optional">[callback]</code>
                        <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                        <span class="flag optional" title="This parameter is optional.">optional</span>


                    <div class="param-description">
                        <p>The callback function to be called with any
errors (or null if none exist), and an array of initiative objects.</p>

                    </div>

                </li>
            </ul>
        </div>



        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code prettyprint"><code>var conn = new spredfast.Connection(oauth);

// Will set a default user.activeCompany if possible
conn.getCompanies(function(err, companies) {
    if (err) return console.error(err);

    conn.getInitiatives(function(err, initiatives) {
        if (err) return console.error(err);

        initiatives.forEach(function(initiative, i, arr) {
            console.log(Object.keys(initiative)); // [sfEntityType, id, name, description]
        });
    });
});</code></pre>

            </div>
        </div>
</div>
<div id="method_publish" class="method item">
    <h3 class="name"><code>publish</code></h3>

        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
                <li class="arg">
                        <code>msg</code>
                </li>
                <li class="arg">
                        <code class="optional">[callback]</code>
                </li>
            </ul><span class="paren">)</span>
        </div>








    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_api_connection.js.html#l562"><code>lib&#x2F;api&#x2F;connection.js:562</code></a>
        </p>



    </div>

    <div class="description">
        <p>Method to publish a message via the Conversations API. Requires the current
user to have a defined
<a href="../classes/Connection.html#property_user.activeCompany">user.activeCompany</a>
and
<a href="../classes/Connection.html#property_user.activeInitiative">user.activeInitiative</a>
with which to publish.</p>
<p>Note that the callback function provided here is called when the method is
done communicating the publication request to the API server, NOT when
the message is actually published
(see <a href="../classes/Message.html" class="crosslink">Message.callbacks</a>).</p>

    </div>

        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
                <li class="param">
                        <code class="param-name">msg</code>
                        <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>


                    <div class="param-description">
                        <p>The <a href="../classes/Message.html" class="crosslink">Message</a> object to be published.</p>

                    </div>

                </li>
                <li class="param">
                        <code class="param-name optional">[callback]</code>
                        <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                        <span class="flag optional" title="This parameter is optional.">optional</span>


                    <div class="param-description">
                        <p>The optional callback function to be called
after the publish action has been sent to the API server. The callback is
passed any existing error (or null if none exists), and the body of the
HTTP response, respectively.</p>

                    </div>

                </li>
            </ul>
        </div>


        <div class="throws">
            <h4>Throws:</h4>

            <div class="throws-description">
                        <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="crosslink external" target="_blank">Error</a></span>:
                    <p>If the message's specified accounts are of
incorrect Service type to publish the message.</p>

            </div>
        </div>

        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code prettyprint"><code>var conn = new spredfast.Connection(oauth);

// initialize the user's company, initiative, and accounts

var msg = new spredfast.Message({
    service: 'FACEBOOK',
    accounts: ['42'],
    content: {
        sfEntityType: 'Status',
        text: 'Here is my status text'
    },
    callbacks: [
        function(req, res) {
            console.log('callback');
        }
    ]
});

conn.publish(msg, function(err, res) {
    if (err) return console.error(err);
});</code></pre>

            </div>
        </div>
</div>
<div id="method_request" class="method item">
    <h3 class="name"><code>request</code></h3>

        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
                <li class="arg">
                        <code>endpoint</code>
                </li>
                <li class="arg">
                        <code>method</code>
                </li>
                <li class="arg">
                        <code class="optional">[options]</code>
                </li>
                <li class="arg">
                        <code class="optional">[callback]</code>
                </li>
            </ul><span class="paren">)</span>
        </div>








    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_api_connection.js.html#l131"><code>lib&#x2F;api&#x2F;connection.js:131</code></a>
        </p>



    </div>

    <div class="description">
        <p>General-purpose method for making requests against the Spredfast API.</p>

    </div>

        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
                <li class="param">
                        <code class="param-name">endpoint</code>
                        <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>


                    <div class="param-description">
                        <p>The API endpoint to be targeted by the HTTP request.</p>

                    </div>

                </li>
                <li class="param">
                        <code class="param-name">method</code>
                        <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>


                    <div class="param-description">
                        <p>The HTTP method to use for this request. Must be either
'GET' or 'POST' (case-insensitive).</p>

                    </div>

                </li>
                <li class="param">
                        <code class="param-name optional">[options]</code>
                        <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
                        <span class="flag optional" title="This parameter is optional.">optional</span>


                    <div class="param-description">
                        <p>Additional options for the HTTP request.</p>

                    </div>

                        <ul class="params-list">
                            <li class="param">
                                    <code class="param-name optional">[query]</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
                                    <span class="flag optional" title="This parameter is optional.">optional</span>

                                <div class="param-description">
                                    <p>An optional object whose properties correspond
to query parameters that will be sent with this request. See
<a href="../files/lib_api_connection.js.html#l286">getInitiatives</a>
for a usage example.</p>

                                </div>

                            </li>
                            <li class="param">
                                    <code class="param-name optional">[type]</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>
                                    <span class="flag optional" title="This parameter is optional.">optional</span>

                                <div class="param-description">
                                    <p>An optional Content-Type header value (e.g. 'application/json').</p>

                                </div>

                            </li>
                            <li class="param">
                                    <code class="param-name optional">[send]</code>
                                    <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>
                                    <span class="flag optional" title="This parameter is optional.">optional</span>

                                <div class="param-description">
                                    <p>An optional post body object to send with the request (e.g. form data).</p>

                                </div>

                            </li>
                        </ul>
                </li>
                <li class="param">
                        <code class="param-name optional">[callback]</code>
                        <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                        <span class="flag optional" title="This parameter is optional.">optional</span>


                    <div class="param-description">
                        <p>The callback function called with an error returned
by the API server (or null if none exists) and the response body of the API call, or
null if the response is undefined.</p>

                    </div>

                </li>
            </ul>
        </div>


        <div class="throws">
            <h4>Throws:</h4>

            <div class="throws-description">
                        <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error" class="crosslink external" target="_blank">Error</a></span>:
                    <p>If the method argument is unsupported.</p>

            </div>
        </div>

        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code prettyprint"><code>var conn = new spredfast.Connection(oauth);

conn.request('v1/me', 'get', function(err, response) {
    if (err) return console.error(err);
    // do something with the response object
});</code></pre>
<pre class="code prettyprint"><code>var conn = new spredfast.Connection(oauth);

var options = {
    // equivalent: '?key1=value1&amp;key2=value2'
    query: {
        key1: value1,
        key2: value2
    },
    type: 'application/json',
    send: {
        // Any object here
    }
}

conn.request('v1/me', 'post', options, function(err, response) {
    if (err) return console.error(err);
    // do something with the response object
});</code></pre>

            </div>
        </div>
</div>
<div id="method_setAccount" class="method item">
    <h3 class="name"><code>setAccount</code></h3>

        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
                <li class="arg">
                        <code>accountName</code>
                </li>
                <li class="arg">
                        <code class="optional">[callback]</code>
                </li>
            </ul><span class="paren">)</span>
        </div>








    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_api_connection.js.html#l525"><code>lib&#x2F;api&#x2F;connection.js:525</code></a>
        </p>



    </div>

    <div class="description">
        <p>Sets the
<a href="../classes/Connection.html#property_user.activeAccount">user.activeAccount</a>
for the current user. If the list of available
accounts is not yet initialized, this method will attempt to initialize it
first, and then set the activeAccount if it exists in the list.</p>

    </div>

        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
                <li class="param">
                        <code class="param-name">accountName</code>
                        <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>


                    <div class="param-description">
                        <p>The name of the account to set as active.</p>

                    </div>

                </li>
                <li class="param">
                        <code class="param-name optional">[callback]</code>
                        <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                        <span class="flag optional" title="This parameter is optional.">optional</span>


                    <div class="param-description">
                        <p>The callback function to be called with any
errors (or null if none exist), and a boolean representing if the
activeAccount was successfully set.</p>

                    </div>

                </li>
            </ul>
        </div>



        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code prettyprint"><code>var conn = new spredfast.Connection(oauth);

// Assuming conn.user.companies and conn.user.initiatives
// are already initialized
conn.getAccounts(function(err, accounts) {
    if (err) return console.error(err);

    conn.setAccount('My Twitter Account', function(found) {
        if (!found) {
            return console.error(new Error('Account not found'));
        } else {
            // do something
        }
    });
});</code></pre>

            </div>
        </div>
</div>
<div id="method_setCompany" class="method item">
    <h3 class="name"><code>setCompany</code></h3>

        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
                <li class="arg">
                        <code>companyName</code>
                </li>
                <li class="arg">
                        <code class="optional">[callback]</code>
                </li>
            </ul><span class="paren">)</span>
        </div>








    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_api_connection.js.html#l429"><code>lib&#x2F;api&#x2F;connection.js:429</code></a>
        </p>



    </div>

    <div class="description">
        <p>Sets the
<a href="../classes/Connection.html#property_user.activeCompany">user.activeCompany</a>
for the current user. If the list of available
companies is not yet initialized, this method will attempt to initialize it
first, and then set the activeCompany if it exists in the list.</p>
<p>Upon successfully setting the activeCompany, the user's activeInitiative
and activeAccount, as well as their respective lists, are reset to null.</p>

    </div>

        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
                <li class="param">
                        <code class="param-name">companyName</code>
                        <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>


                    <div class="param-description">
                        <p>The name of the company to set as active.</p>

                    </div>

                </li>
                <li class="param">
                        <code class="param-name optional">[callback]</code>
                        <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                        <span class="flag optional" title="This parameter is optional.">optional</span>


                    <div class="param-description">
                        <p>The callback function to be called with any
errors (or null if none exist), and a boolean representing if the
activeCompany was successfully set.</p>

                    </div>

                </li>
            </ul>
        </div>



        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code prettyprint"><code>var conn = new spredfast.Connection(oauth);

conn.getCompanies(function(err, companies) {
    if (err) return console.error(err);

    conn.setCompany('Planet Express', function(found) {
        if (!found) {
            return console.error(new Error('Company not found'));
        } else {
            // do something
        }
    });
});</code></pre>

            </div>
        </div>
</div>
<div id="method_setInitiative" class="method item">
    <h3 class="name"><code>setInitiative</code></h3>

        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
                <li class="arg">
                        <code>initiativeName</code>
                </li>
                <li class="arg">
                        <code class="optional">[callback]</code>
                </li>
            </ul><span class="paren">)</span>
        </div>








    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_api_connection.js.html#l479"><code>lib&#x2F;api&#x2F;connection.js:479</code></a>
        </p>



    </div>

    <div class="description">
        <p>Sets the
<a href="../classes/Connection.html#property_user.activeInitiative">user.activeInitiative</a>
for the current user. If the list of available
initiatives is not yet initialized, this method will attempt to initialize it
first, and then set the activeInitiative if it exists in the list.</p>
<p>Upon successfully setting the activeInitiative, the user's activeAccount
and list of available accounts are reset to null.</p>

    </div>

        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
                <li class="param">
                        <code class="param-name">initiativeName</code>
                        <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>


                    <div class="param-description">
                        <p>The name of the initiative to set as active.</p>

                    </div>

                </li>
                <li class="param">
                        <code class="param-name optional">[callback]</code>
                        <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function" class="crosslink external" target="_blank">Function</a></span>
                        <span class="flag optional" title="This parameter is optional.">optional</span>


                    <div class="param-description">
                        <p>The callback function to be called with any
errors (or null if none exist), and a boolean representing if the
activeInitiative was successfully set.</p>

                    </div>

                </li>
            </ul>
        </div>



        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <pre class="code prettyprint"><code>var conn = new spredfast.Connection(oauth);

// Assuming conn.user.companies is already initialized
conn.getInitiatives(function(err, initiatives) {
    if (err) return console.error(err);

    conn.setInitiative('Marketing', function(found) {
        if (!found) {
            return console.error(new Error('Initiative not found'));
        } else {
            // do something
        }
    });
});</code></pre>

            </div>
        </div>
</div>
            </div>

            <div id="properties" class="api-class-tabpanel">
                <h2 class="off-left">Properties</h2>

<div id="property_user" class="property item">
    <h3 class="name"><code>user</code></h3>
    <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>





    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_api_connection.js.html#l64"><code>lib&#x2F;api&#x2F;connection.js:64</code></a>
        </p>


    </div>

    <div class="description">
        <p>Container object for information regarding the currently authenticated user.</p>

    </div>



</div>
<div id="property_user.accounts" class="property item">
    <h3 class="name"><code>user.accounts</code></h3>
    <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object[]</a></span>





    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_api_connection.js.html#l113"><code>lib&#x2F;api&#x2F;connection.js:113</code></a>
        </p>


    </div>

    <div class="description">
        <p>The available accounts for the current user</p>

    </div>

        <p><strong>Default:</strong> null</p>


</div>
<div id="property_user.activeAccount" class="property item">
    <h3 class="name"><code>user.activeAccount</code></h3>
    <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>





    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_api_connection.js.html#l121"><code>lib&#x2F;api&#x2F;connection.js:121</code></a>
        </p>


    </div>

    <div class="description">
        <p>The current user's 'active' account. Used as a default value where
an account value is required.</p>

    </div>

        <p><strong>Default:</strong> null</p>


</div>
<div id="property_user.activeCompany" class="property item">
    <h3 class="name"><code>user.activeCompany</code></h3>
    <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>





    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_api_connection.js.html#l87"><code>lib&#x2F;api&#x2F;connection.js:87</code></a>
        </p>


    </div>

    <div class="description">
        <p>The current user's 'active' company. Used as a default value where
a company value is required.</p>

    </div>

        <p><strong>Default:</strong> null</p>


</div>
<div id="property_user.activeInitiative" class="property item">
    <h3 class="name"><code>user.activeInitiative</code></h3>
    <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object</a></span>





    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_api_connection.js.html#l104"><code>lib&#x2F;api&#x2F;connection.js:104</code></a>
        </p>


    </div>

    <div class="description">
        <p>The current user's 'active' initiative. Used as a default value where
an initiative value is required.</p>

    </div>

        <p><strong>Default:</strong> null</p>


</div>
<div id="property_user.companies" class="property item">
    <h3 class="name"><code>user.companies</code></h3>
    <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object[]</a></span>





    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_api_connection.js.html#l79"><code>lib&#x2F;api&#x2F;connection.js:79</code></a>
        </p>


    </div>

    <div class="description">
        <p>The available companies for the current user</p>

    </div>

        <p><strong>Default:</strong> null</p>


</div>
<div id="property_user.email" class="property item">
    <h3 class="name"><code>user.email</code></h3>
    <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String" class="crosslink external" target="_blank">String</a></span>





    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_api_connection.js.html#l71"><code>lib&#x2F;api&#x2F;connection.js:71</code></a>
        </p>


    </div>

    <div class="description">
        <p>The current user's email address</p>

    </div>

        <p><strong>Default:</strong> null</p>


</div>
<div id="property_user.initiatives" class="property item">
    <h3 class="name"><code>user.initiatives</code></h3>
    <span class="type"><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object" class="crosslink external" target="_blank">Object[]</a></span>





    <div class="meta">
                <p>
                Defined in
        <a href="../files/lib_api_connection.js.html#l96"><code>lib&#x2F;api&#x2F;connection.js:96</code></a>
        </p>


    </div>

    <div class="description">
        <p>The available initiatives for the current user</p>

    </div>

        <p><strong>Default:</strong> null</p>


</div>
            </div>


    </div>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
